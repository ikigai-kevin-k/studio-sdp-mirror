# 修復 GitHub Pages 404 錯誤

## 問題診斷

✅ **已確認的問題**:
- GitHub Pages 已啟用（workflow 模式）
- Workflow 文件存在，但內容不正確（包含 markdown 文檔而非 YAML）
- 這導致 workflow 運行失敗，無法部署文檔

## 解決方案：手動替換 Workflow 文件

由於 API 權限限制，需要在 GitHub 網頁上手動替換 workflow 文件。

### 步驟 1: 訪問 Workflow 文件

1. 打開: https://github.com/ikigai-kevin-k/studio-sdp-mirror/blob/docs/.github/workflows/docs.yml
2. 點擊右上角的 **"Edit this file"** (鉛筆圖標)

### 步驟 2: 替換為正確的 YAML 內容

**刪除所有現有內容**，然後複製以下完整的 YAML 內容：

```yaml
name: Deploy Documentation

on:
  push:
    branches:
      - main
      - docs
    paths:
      - 'docs/**'
      - 'mkdocs.yml'
      - '.github/workflows/docs.yml'
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          submodules: false

      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.12'

      - name: Install dependencies
        run: |
          pip install mkdocs-material
          pip install mkdocs-git-revision-date-localized-plugin
          pip install pymdown-extensions

      - name: Setup Pages
        uses: actions/configure-pages@v4
        with:
          enablement: true

      - name: Build documentation
        run: mkdocs build

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./site

      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

### 步驟 3: 提交更改

1. **Commit message**: `fix: Replace incorrect workflow file with proper YAML`
2. 選擇 **"Commit directly to the `docs` branch"**
3. 點擊 **"Commit changes"**

### 步驟 4: 驗證部署

1. **檢查 Actions**:
   - 訪問: https://github.com/ikigai-kevin-k/studio-sdp-mirror/actions
   - 應該會看到 "Deploy Documentation" workflow 自動觸發
   - 等待運行完成（約 2-5 分鐘）

2. **檢查部署狀態**:
   - 點擊最新的 workflow run
   - 確認所有步驟都成功（綠色 ✓）
   - 特別檢查 "Deploy to GitHub Pages" 步驟

3. **訪問文檔網站**:
   - https://ikigai-kevin-k.github.io/studio-sdp-mirror/
   - 應該能看到完整的 MkDocs 文檔網站

### 步驟 5: 確認 GitHub Pages 設置

如果仍然顯示 404，檢查 Pages 設置：

1. 訪問: https://github.com/ikigai-kevin-k/studio-sdp-mirror/settings/pages
2. 確認 **Source** 選擇的是 **"GitHub Actions"**（不是 Legacy）
3. 如果顯示 Legacy，切換到 GitHub Actions 並保存

## 快速檢查清單

- [ ] Workflow 文件內容是正確的 YAML（不是 markdown）
- [ ] Workflow 已成功運行（Actions 中顯示綠色 ✓）
- [ ] GitHub Pages 設置為 "GitHub Actions" 模式
- [ ] 等待 2-5 分鐘讓部署完成
- [ ] 清除瀏覽器緩存後重新訪問

## 如果仍然有問題

1. **檢查 Actions 日誌**:
   - 查看失敗的步驟
   - 檢查錯誤訊息

2. **手動觸發 Workflow**:
   - 訪問 Actions 頁面
   - 點擊 "Deploy Documentation"
   - 點擊 "Run workflow" → "Run workflow"

3. **檢查文件結構**:
   - 確認 `docs/` 目錄存在
   - 確認 `mkdocs.yml` 文件存在
   - 確認文件路徑正確

## 預期結果

完成後，您應該能夠：
- ✅ 在 Actions 中看到成功的 workflow 運行
- ✅ 訪問 https://ikigai-kevin-k.github.io/studio-sdp-mirror/ 看到完整的文檔
- ✅ 每次推送文檔更新時自動重新部署

