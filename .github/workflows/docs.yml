# 手動添加 GitHub Actions Workflow 指南

由於 API 權限限制，需要手動在 GitHub 網頁上添加 workflow 文件。

## 快速步驟

### 方法 1: 使用 GitHub 網頁界面（推薦）

1. **訪問 repository**:
   ```
   https://github.com/ikigai-kevin-k/studio-sdp-mirror
   ```

2. **創建 workflow 文件**:
   - 點擊 "Add file" → "Create new file"
   - 在文件路徑輸入框中輸入: `.github/workflows/docs.yml`
   - GitHub 會自動創建 `.github` 和 `workflows` 目錄

3. **複製以下內容到文件**:

```yaml
name: Deploy Documentation

on:
  push:
    branches:
      - main
      - docs
    paths:
      - 'docs/**'
      - 'mkdocs.yml'
      - '.github/workflows/docs.yml'
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          submodules: false

      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.12'

      - name: Install dependencies
        run: |
          pip install mkdocs-material
          pip install mkdocs-git-revision-date-localized-plugin
          pip install pymdown-extensions

      - name: Setup Pages
        uses: actions/configure-pages@v4
        with:
          enablement: true

      - name: Build documentation
        run: mkdocs build

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./site

      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

4. **提交文件**:
   - Commit message: `ci: Add GitHub Pages deployment workflow`
   - 選擇 "Commit directly to the `docs` branch"
   - 點擊 "Commit new file"

5. **更新 GitHub Pages 設置**:
   - 訪問: https://github.com/ikigai-kevin-k/studio-sdp-mirror/settings/pages
   - Source 選擇: **GitHub Actions** (不是 Legacy)
   - 點擊 "Save"

6. **觸發部署**:
   - 訪問: https://github.com/ikigai-kevin-k/studio-sdp-mirror/actions
   - 應該會看到 "Deploy Documentation" workflow 自動運行
   - 等待部署完成（約 2-5 分鐘）

### 方法 2: 使用命令行（如果有 SSH 權限）

如果您有 ikigai-kevin-k 帳號的 SSH 訪問權限：

```bash
# 切換到包含 workflow 的分支
cd /home/rnd/studio-sdp-roulette
git checkout add-workflow

# 使用 SSH remote
git remote set-url mirror git@github.com:ikigai-kevin-k/studio-sdp-mirror.git

# 推送 workflow 文件
git push mirror add-workflow:docs
```

## 驗證部署

1. **檢查 Actions**:
   - https://github.com/ikigai-kevin-k/studio-sdp-mirror/actions
   - 確認 workflow 成功運行

2. **訪問文檔網站**:
   - https://ikigai-kevin-k.github.io/studio-sdp-mirror/
   - 應該能看到完整的文檔網站

3. **檢查 Pages 設置**:
   - https://github.com/ikigai-kevin-k/studio-sdp-mirror/settings/pages
   - 確認 Source 是 "GitHub Actions"

## 故障排除

### 問題: Workflow 運行失敗

**可能原因**:
- GitHub Pages 未正確啟用
- 權限不足

**解決方案**:
1. 檢查 repository Settings → Pages
2. 確認 Source 選擇了 "GitHub Actions"
3. 檢查 Actions 日誌查看具體錯誤

### 問題: 文檔網站顯示 404

**可能原因**:
- 部署尚未完成
- Pages 設置不正確

**解決方案**:
1. 等待幾分鐘讓部署完成
2. 檢查 Actions 是否成功
3. 確認 Pages 設置正確

## 完成後的狀態

- ✅ Workflow 文件已添加
- ✅ GitHub Pages 設置為 GitHub Actions
- ✅ 文檔自動部署成功
- ✅ 文檔網站可訪問

完成後，每次推送文檔更新到 `docs` 分支時，GitHub Actions 會自動重新部署文檔！

